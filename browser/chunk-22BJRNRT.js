import{a as H,c as z,d as A,g as G,i as q}from"./chunk-OZBPFQFW.js";import{B as n,C,Ca as W,D as w,Da as L,Ea as N,F as M,I as m,K as o,L as a,M as u,Ma as Y,N as D,O as d,P as p,Q as g,Qa as B,R as b,Ra as V,Sa as j,U as _,V as f,W as T,aa as y,da as I,ka as O,na as F,pa as k,ua as P,w as S,x as v,xa as E}from"./chunk-QAGEAS7D.js";import"./chunk-4ZYMRQKO.js";import"./chunk-7KGURMOZ.js";import"./chunk-PP7MKLMN.js";import"./chunk-QJ4TJSCO.js";import"./chunk-IZ3NJ2KX.js";import"./chunk-G3CV3VGG.js";import"./chunk-IEY6ZC2G.js";import"./chunk-MNDBORQJ.js";import"./chunk-7QVI4S4L.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-LNJ3S2LQ.js";function J(r,s){if(r&1){let h=D();o(0,"ion-item")(1,"ion-label"),g(2),a(),o(3,"ion-button",9),d("click",function(){let l=S(h).$implicit,e=p();return v(e.removeTimeSlot(l))}),u(4,"ion-icon",10),a()()}if(r&2){let h=s.$implicit,i=p();n(2),b(h),n(2),m("icon",i.removeOutline)}}var ie=(()=>{let s=class s{constructor(i){this.calendarService=i,this.selectedDate=new Date().toISOString(),this.availableTimes=[],this.newTime="",this.showToast=!1,this.toastMessage="",this.addOutline=H,this.removeOutline=z,this.saveOutline=A}ngOnInit(){this.loadTimeSlots()}loadTimeSlots(){this.availableTimes=this.calendarService.getTimeSlotsForDate(this.selectedDate)}onDateSelected(i){this.selectedDate=i.detail.value,this.loadTimeSlots()}addTimeSlot(){this.newTime&&!this.availableTimes.includes(this.newTime)?(this.availableTimes.push(this.newTime),this.availableTimes.sort(),this.newTime=""):this.showToastMessage("El horario ya existe o est\xE1 vac\xEDo.")}removeTimeSlot(i){this.availableTimes=this.availableTimes.filter(l=>l!==i)}saveScheduleConfig(){this.calendarService.setTimeSlotsForDate(this.selectedDate,this.availableTimes),this.showToastMessage("Horarios actualizados correctamente.")}showToastMessage(i){this.toastMessage=i,this.showToast=!0}};s.\u0275fac=function(l){return new(l||s)(C(q))},s.\u0275cmp=w({type:s,selectors:[["app-schedule-config"]],decls:14,vars:7,consts:[["title","Configuraci\xF3n de horarios"],[1,"ion-padding"],["displayFormat","DD MMM YYYY",3,"ngModelChange","ionChange","ngModel"],[4,"ngFor","ngForOf"],["placeholder","Nuevo horario (ej. 10:30)",3,"ngModelChange","ngModel"],["fill","outline",3,"click"],["slot","start",3,"icon"],["expand","block",3,"click"],["duration","3000","position","bottom",3,"didDismiss","isOpen","message"],["fill","clear","color","danger",3,"click"],["slot","icon-only",3,"icon"]],template:function(l,e){l&1&&(u(0,"app-header",0),o(1,"ion-content",1)(2,"ion-datetime",2),T("ngModelChange",function(t){return f(e.selectedDate,t)||(e.selectedDate=t),t}),d("ionChange",function(t){return e.onDateSelected(t)}),a(),o(3,"ion-list"),M(4,J,5,2,"ion-item",3),a(),o(5,"ion-item")(6,"ion-input",4),T("ngModelChange",function(t){return f(e.newTime,t)||(e.newTime=t),t}),a(),o(7,"ion-button",5),d("click",function(){return e.addTimeSlot()}),u(8,"ion-icon",6),g(9," Agregar "),a()(),o(10,"ion-button",7),d("click",function(){return e.saveScheduleConfig()}),u(11,"ion-icon",6),g(12," Guardar Configuraci\xF3n "),a(),o(13,"ion-toast",8),d("didDismiss",function(){return e.showToast=!1}),a()()),l&2&&(n(2),_("ngModel",e.selectedDate),n(2),m("ngForOf",e.availableTimes),n(2),_("ngModel",e.newTime),n(2),m("icon",e.addOutline),n(3),m("icon",e.saveOutline),n(2),m("isOpen",e.showToast)("message",e.toastMessage))},dependencies:[I,y,k,O,F,E,B,N,W,j,P,Y,V,G,L],encapsulation:2});let r=s;return r})();export{ie as default};
